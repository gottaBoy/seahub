"use strict";(self.webpackChunkseahub_frontend=self.webpackChunkseahub_frontend||[]).push([[669],{56684:function(e,t,n){var r=n(15671),s=n(43144),i=n(60136),o=n(29388),a=n(72791),c=n(54164),u=n(22228),d=n(53585),f=n(21393),h=n(87556),p=n(63446),l=n(16772),v=(n(88768),n(80184)),g=window.shared.pageOptions,m=g.repoID,Z=g.filePath,k=g.err,w=g.commitID,j=g.fileType,y=g.sharedToken,b=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return(0,v.jsx)(f.Z,{content:(0,v.jsx)(x,{})})}}]),n}(a.Component),x=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).state={isLoading:!k,errorMsg:""},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this;if(!k){!function t(){u.I.queryOfficeFileConvertStatus(m,w,Z,j.toLowerCase(),y).then((function(n){switch(n.data.status){case"PROCESSING":e.setState({isLoading:!0}),setTimeout(t,2e3);break;case"ERROR":e.setState({isLoading:!1,errorMsg:(0,d.ih)("Document convertion failed.")});break;case"DONE":e.setState({isLoading:!1,errorMsg:""});var r=document.createElement("script");r.type="text/javascript",r.src="".concat(d.si,"js/pdf/web/viewer.js"),document.body.append(r)}})).catch((function(t){t.response?e.setState({isLoading:!1,errorMsg:(0,d.ih)("Document convertion failed.")}):e.setState({isLoading:!1,errorMsg:(0,d.ih)("Please check the network.")})}))}()}}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.errorMsg;return k?(0,v.jsx)(h.Z,{}):t?(0,v.jsx)(p.Z,{}):n?(0,v.jsx)(h.Z,{errorMsg:n}):(0,v.jsx)("div",{className:"shared-file-view-body pdf-file-view",children:(0,v.jsx)(l.Z,{})})}}]),n}(a.Component);c.render((0,v.jsx)(b,{}),document.getElementById("wrapper"))}},function(e){e.O(0,[351],(function(){return t=56684,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=sharedFileViewDocument.180f58d8.js.map