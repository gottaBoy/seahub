{"version":3,"file":"static/js/sharedFileViewSdoc.21961792.js","mappings":"oNAQAA,EAA4CC,OAAOC,IAAIC,OAA/CC,EAAUJ,EAAVI,WAAYC,EAAQL,EAARK,SAAUC,EAASN,EAATM,UACtBC,EAAaN,OAAOC,IAAIM,YAAxBD,SACRE,EAKIR,OAAOS,OAAOF,YAJhBG,EAAMF,EAANE,OAAQC,EAAQH,EAARG,SACRC,EAAWJ,EAAXI,YAAaC,EAAOL,EAAPK,QACbC,EAAgBN,EAAhBM,iBAAkBC,EAAMP,EAANO,OAClBC,EAAOR,EAAPQ,QAASC,EAAOT,EAAPS,QAASC,EAAOV,EAAPU,QAASC,EAAiBX,EAAjBW,kBAAmBC,EAAeZ,EAAfY,gBAAiBC,EAASb,EAATa,UAI3DC,EAAkB,CAAC,SAAYT,EAAS,aAAgBD,EAAa,YAAc,GACnFW,EAAqBC,EAAAA,EAAMC,0BAA0BH,GACrDI,EAAsBF,EAAAA,EAAMG,6BAA6BJ,GAAoBK,KAEnF5B,OAAO6B,QAAU,CACfnB,OAAAA,EACAM,QAAAA,EACAC,QAAAA,EACAC,QAAAA,EACAY,cAAc,EACdC,WAAY5B,EACZ6B,YAAab,EACbc,WAAYb,EACZd,SAAAA,EACAD,UAAAA,EACAD,SAAAA,EACAsB,oBAAqBA,EACrBQ,YAActB,IAAgBE,EAAgB,IAAAqB,OAAQpB,EAAS,KAAOqB,mBAAmBpB,GAAW,IAAM,GAAE,QAAS,GACrHqB,QAAS1B,EACT2B,WAAYd,EAAAA,EAAMe,mBAAmBnC,EAAUM,EAAQM,GACvDK,UAAAA,GAGF,WACE,IAAMmB,EAAWhB,EAAAA,EAAMiB,eAAexB,EAAS,KAC/CyB,SAASC,eAAe,WAAWC,KAAOJ,CAC3C,CAHD,GAKAK,EAAAA,QACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAe,CAACC,KAAOA,EAAAA,EAAMC,UAC5BH,EAAAA,EAAAA,KAACI,EAAAA,SAAQ,CAACC,UAAUL,EAAAA,EAAAA,KAACM,EAAAA,EAAO,IAAIH,UAC9BH,EAAAA,EAAAA,KAACO,EAAAA,GAAY,QAGjBX,SAASC,eAAe,W","sources":["shared-file-view-sdoc.js"],"sourcesContent":["import React, { Suspense } from 'react';\nimport ReactDom from 'react-dom';\nimport { SimpleViewer } from '@seafile/sdoc-editor';\nimport { I18nextProvider } from 'react-i18next';\nimport i18n from './_i18n/i18n-sdoc-editor';\nimport Loading from './components/loading';\nimport { Utils } from './utils/utils';\n\nconst { serviceURL, siteRoot, avatarURL } = window.app.config;\nconst { username } = window.app.pageOptions;\nconst {\n  repoID, filePerm,\n  canDownload, canEdit,\n  trafficOverLimit, zipped,\n  docPath, docName, docUuid, seadocAccessToken, seadocServerUrl, assetsUrl\n} = window.shared.pageOptions;\n\n// share permission of this sdoc\nconst sharePermission = {'can_edit': canEdit, 'can_download': canDownload, 'can_upload': false};\nconst sharePermissionStr = Utils.getShareLinkPermissionStr(sharePermission);\nconst sharePermissionText = Utils.getShareLinkPermissionObject(sharePermissionStr).text;\n\nwindow.seafile = {\n  repoID,\n  docPath,\n  docName,\n  docUuid,\n  isOpenSocket: true,\n  serviceUrl: serviceURL,\n  accessToken: seadocAccessToken,\n  sdocServer: seadocServerUrl,\n  username,\n  avatarURL,\n  siteRoot,\n  sharePermissionText: sharePermissionText,\n  downloadURL: (canDownload && !trafficOverLimit) ? `?${zipped ? 'p=' + encodeURIComponent(docPath) + '&' : ''}dl=1` : '',\n  docPerm: filePerm,\n  historyURL: Utils.generateHistoryURL(siteRoot, repoID, docPath),\n  assetsUrl,\n};\n\n(function() {\n  const fileIcon = Utils.getFileIconUrl(docName, 192);\n  document.getElementById('favicon').href = fileIcon;\n})();\n\nReactDom.render(\n  <I18nextProvider i18n={ i18n } >\n    <Suspense fallback={<Loading />}>\n      <SimpleViewer />\n    </Suspense>\n  </I18nextProvider>,\n  document.getElementById('wrapper')\n);\n"],"names":["_window$app$config","window","app","config","serviceURL","siteRoot","avatarURL","username","pageOptions","_window$shared$pageOp","shared","repoID","filePerm","canDownload","canEdit","trafficOverLimit","zipped","docPath","docName","docUuid","seadocAccessToken","seadocServerUrl","assetsUrl","sharePermission","sharePermissionStr","Utils","getShareLinkPermissionStr","sharePermissionText","getShareLinkPermissionObject","text","seafile","isOpenSocket","serviceUrl","accessToken","sdocServer","downloadURL","concat","encodeURIComponent","docPerm","historyURL","generateHistoryURL","fileIcon","getFileIconUrl","document","getElementById","href","ReactDom","_jsx","I18nextProvider","i18n","children","Suspense","fallback","Loading","SimpleViewer"],"sourceRoot":""}