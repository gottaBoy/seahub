{"version":3,"file":"static/js/historyTrashFileView.3099654d.js","mappings":"6NAKQA,EAAYC,OAAOC,IAAIC,YAAvBH,QAEFI,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,OAAAK,EAAAA,EAAAA,GAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CAed,OAfcC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,SAAAC,MACf,WACE,IAAMC,EAAiB,CACrBC,UAAU,EACVC,UAAU,EACVC,QAAS,OACTC,QAAS,CAAC,CACRC,IAAKpB,KAGT,OACEqB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2CAA0CC,UACvDF,EAAAA,EAAAA,KAACG,EAAAA,GAAWC,EAAAA,EAAAA,GAAA,GAAMV,KAGxB,KAACX,CAAA,CAfc,CAASsB,EAAAA,WAkB1B,K,4BCVIC,EAAkBC,E,mGARtBC,EAMI5B,OAAOC,IAAIC,YALb2B,EAAMD,EAANC,OAAQC,EAAaF,EAAbE,cACRC,EAAOH,EAAPG,QAASC,EAAQJ,EAARI,SAAUC,EAAQL,EAARK,SACnBC,EAAwBN,EAAxBM,yBACAC,EAAaP,EAAbO,cAAeC,EAASR,EAATQ,UAAWrC,EAAO6B,EAAP7B,QAC1BsC,EAAaT,EAAbS,cAIEF,IACFT,EAAgB,GAAAY,OAAMC,EAAAA,GAAQ,QAAAD,OAAOT,EAAM,SAAAS,OAAQE,EAAAA,EAAMC,WAAWN,KAElEC,IACFT,EAAY,GAAAW,OAAMC,EAAAA,GAAQ,QAAAD,OAAOT,EAAM,SAAAS,OAAQE,EAAAA,EAAMC,WAAWL,KACjE,IAEKjC,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAEf,SAAAA,EAAYuC,GAAQ,IAADC,EAIf,OAJenC,EAAAA,EAAAA,GAAA,KAAAL,IACjBwC,EAAArC,EAAAsC,KAAA,KAAMF,IAiBRG,kBAAoB,WAClBF,EAAKG,SAAS,CACZC,YAAY,GAEhB,EApBEJ,EAAKK,MAAQ,CACXD,YAAY,GACZJ,CACJ,CA8CC,OA9CAhC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,oBAAAC,MAED,WACEoC,SAASC,iBAAiB,WAAW,SAACC,GAChChB,GAA8B,IAAbgB,EAAEC,UACrBC,SAASC,KAAO5B,GAEdU,GAA0B,IAAbe,EAAEC,UACjBC,SAASC,KAAO3B,EAEpB,GACF,GAAC,CAAAf,IAAA,SAAAC,MAQD,WACE,GAAI0C,KAAKP,MAAMD,WACb,OAAOQ,KAAKb,MAAMc,IAKpB,IAAIC,EAAe,IAEd3B,GADe,CAAC,MAAO,OAAQ,OACF4B,SAAS3B,KACzC0B,EAAY,GAAAnB,OAAMC,EAAAA,GAAQ,cAAAD,OAAaT,EAAM,KAAAS,OAAIJ,GAAwBI,OAAGE,EAAAA,EAAMC,WAAWT,KAI/F,IAAM2B,EAAWtB,EAAa,GAAAC,OAAMC,EAAAA,IAAQD,OAAGD,GAAkB,GAEjE,OACEuB,EAAAA,EAAAA,MAAA,OAAKvC,UAAU,2CAA0CC,SAAA,CACtDa,IACCf,EAAAA,EAAAA,KAAA,KAAGkC,KAAM5B,EAAkBmC,GAAG,WAAWC,OAAOC,EAAAA,EAAAA,IAAQ,8BAAyBzC,UAACF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAEnGe,IACChB,EAAAA,EAAAA,KAAA,KAAGkC,KAAM3B,EAAckC,GAAG,WAAWC,OAAOC,EAAAA,EAAAA,IAAQ,6BAAwBzC,UAACF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,4BAE/FD,EAAAA,EAAAA,KAAA,OAAKD,IAAKwC,GAAYF,GAAgB1D,EAASiE,IAAK/B,EAAU4B,GAAG,aAAaI,QAASV,KAAKV,sBAGlG,KAAC1C,CAAA,CArDc,CAASsB,EAAAA,WA4D1B,K,oHC9EMtB,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,OAAAK,EAAAA,EAAAA,GAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CAOd,OAPcC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,SAAAC,MACf,WACE,OACEO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yCAAwCC,UACrDF,EAAAA,EAAAA,KAAC8C,EAAAA,EAAS,KAGhB,KAAC/D,CAAA,CAPc,CAASsB,EAAAA,WAU1B,K,yGCXAG,EAEI5B,OAAOC,IAAIC,YADb+B,EAAQL,EAARK,SAAUlC,EAAO6B,EAAP7B,QAGNI,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,OAAAK,EAAAA,EAAAA,GAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CAOd,OAPcC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,SAAAC,MACf,WACE,OACEO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yCAAwCC,UACrDF,EAAAA,EAAAA,KAAA,OAAKD,IAAKpB,EAASiE,IAAK/B,EAAU4B,GAAG,cAG3C,KAAC1D,CAAA,CAPc,CAASsB,EAAAA,WAU1B,K,8HCZE1B,EACEC,OAAOC,IAAIC,YADbH,QAGII,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,OAAAK,EAAAA,EAAAA,GAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CAgBd,OAhBcC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,SAAAC,MACf,WACE,IAAMC,EAAiB,CACrBC,UAAU,EACVC,UAAU,EACVC,QAAS,OACTkD,cAAe,CAAC,GAAK,EAAG,IAAK,GAC7BjD,QAAS,CAAC,CACRC,IAAKpB,KAGT,OACEqB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2CAA0CC,UACvDF,EAAAA,EAAAA,KAACgD,EAAAA,GAAW5C,EAAAA,EAAAA,GAAA,GAAMV,KAGxB,KAACX,CAAA,CAhBc,CAASsB,EAAAA,WAmB1B,K,uICzBAG,EAEI5B,OAAOC,IAAIC,YADb+B,EAAQL,EAARK,SAAUJ,EAAMD,EAANC,OAAQwC,EAAKzC,EAALyC,MAAOC,EAAI1C,EAAJ0C,KAS3B,MANA,WACE,OACElD,EAAAA,EAAAA,KAAA,KAAGkC,KAAI,GAAAhB,OAAKC,EAAAA,GAAQ,SAAAD,OAAQT,EAAM,KAAAS,OAAI+B,EAAK,yBAAA/B,OAAwBiC,mBAAmBtC,GAAS,OAAAK,OAAMiC,mBAAmBD,IAASjD,UAAU,oBAAmBC,UAAEyC,EAAAA,EAAAA,IAAQ,aAE5K,ECCAnC,G,SAKI5B,OAAOC,IAAIC,aAJbsE,EAAS5C,EAAT4C,UACAvC,EAAQL,EAARK,SAAUwC,EAAU7C,EAAV6C,WACVC,EAAe9C,EAAf8C,gBACAC,EAAe/C,EAAf+C,gBAAiBC,EAAYhD,EAAZgD,aAIbC,EAAQ,SAAAzE,IAAAC,EAAAA,EAAAA,GAAAwE,EAAAzE,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAsE,GAEZ,SAAAA,EAAYnC,GAAO,OAAAlC,EAAAA,EAAAA,GAAA,KAAAqE,GAAAvE,EAAAsC,KAAA,KACXF,EACR,CAiBC,OAjBA/B,EAAAA,EAAAA,GAAAkE,EAAA,EAAAjE,IAAA,SAAAC,MAED,WACE,OACE+C,EAAAA,EAAAA,MAAA,OAAKvC,UAAU,kCAAiCC,SAAA,EAC9CsC,EAAAA,EAAAA,MAAA,OAAKvC,UAAU,qEAAoEC,SAAA,EACjFsC,EAAAA,EAAAA,MAAA,OAAAtC,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAEW,KAC5Bb,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAEkD,EAAS,GAAAlC,QAAMyB,EAAAA,EAAAA,IAAQ,mBAAiBzB,QAAGyB,EAAAA,EAAAA,IAAQ,UAAYU,OAE9FC,IAAmBtD,EAAAA,EAAAA,KAAC0D,EAAQ,QAE/B1D,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2CAA0CC,SACtDiC,KAAKb,MAAMqC,YAIpB,KAACF,CAAA,CArBW,CAASpD,EAAAA,WAwBnBkD,GACFK,IAAAA,KAAe,CACbC,cAAc,GAAD3C,OAAK4C,EAAAA,GAAQ,KAAA5C,OAAIsC,GAC9BO,gBAAiB,OAMrB,QC7CAvD,EAAiC5B,OAAOC,IAAIC,YAApCwE,EAAe9C,EAAf8C,gBAAiBU,EAAGxD,EAAHwD,IACnBC,EAAc,2BAEdC,EAAW,SAAAlF,IAAAC,EAAAA,EAAAA,GAAAiF,EAAAlF,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAA+E,GAAA,SAAAA,IAAA,OAAA9E,EAAAA,EAAAA,GAAA,KAAA8E,GAAAhF,EAAAG,MAAA,KAAAC,UAAA,CAkBd,OAlBcC,EAAAA,EAAAA,GAAA2E,EAAA,EAAA1E,IAAA,SAAAC,MAEf,WACE,IAAI0E,EAOJ,OALEA,EADEH,GAAOC,GAAe9B,KAAKb,MAAM0C,KAAOC,GAC/BjE,EAAAA,EAAAA,KAAA,KAAAE,UAAIyC,EAAAA,EAAAA,IAAQ,wDAEZ3C,EAAAA,EAAAA,KAAA,KAAGC,UAAU,QAAOC,SAAE8D,KAIjChE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kCAAiCC,UAC9CsC,EAAAA,EAAAA,MAAA,OAAKvC,UAAU,gBAAeC,SAAA,CAC3BiE,EACAb,IAAmBtD,EAAAA,EAAAA,KAAC0D,EAAQ,QAIrC,KAACQ,CAAA,CAlBc,CAAS7D,EAAAA,WAsB1B,I,4CC7BAG,G,SAAiC5B,OAAOC,IAAIC,aAApC6B,EAAOH,EAAPG,QAASyD,EAAW5D,EAAX4D,YAEXrF,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,OAAAK,EAAAA,EAAAA,GAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CAOd,OAPcC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,SAAAC,MACf,WACE,OACEO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0CAAyCC,UACtDF,EAAAA,EAAAA,KAACqE,EAAAA,EAAiB,CAAC1D,QAASA,EAASlB,MAAO2E,KAGlD,KAACrF,CAAA,CAPc,CAASsB,EAAAA,WAU1B,I,UCVQ+D,EAAgBxF,OAAOC,IAAIC,YAA3BsF,YAEFrF,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,OAAAK,EAAAA,EAAAA,GAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CAYd,OAZcC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,SAAAC,MACf,WACE,OACEO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,+BAA8BC,UAC3CF,EAAAA,EAAAA,KAACsE,EAAAA,GAAc,CACbC,YAAY,EACZ9E,MAAO2E,EACPI,eAAe,EACfC,cAAeC,EAAAA,GAAW,2BAIlC,KAAC3F,CAAA,CAZc,CAASsB,EAAAA,WAe1B,I,WClBQ+D,EAAgBxF,OAAOC,IAAIC,YAA3BsF,YAEFrF,EAAW,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAAA,SAAAA,IAAA,OAAAK,EAAAA,EAAAA,GAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CASd,OATcC,EAAAA,EAAAA,GAAAR,EAAA,EAAAS,IAAA,SAAAC,MAEf,WACE,IAAMoC,EAAWuC,EAAcO,KAAKC,MAAMR,GAAe,KACzD,OACEpE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wEAAuEC,UACpFF,EAAAA,EAAAA,KAAC6E,EAAAA,GAAU,CAAChD,SAAUA,KAG5B,KAAC9C,CAAA,CATc,CAASsB,EAAAA,WAY1B,I,sBCNAG,EAEI5B,OAAOC,IAAIC,YADbgG,GAAQtE,EAARsE,SAAUd,GAAGxD,EAAHwD,IAGNe,GAAoB,SAAA/F,IAAAC,EAAAA,EAAAA,GAAA8F,EAAA/F,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAA4F,GAAA,SAAAA,IAAA,OAAA3F,EAAAA,EAAAA,GAAA,KAAA2F,GAAA7F,EAAAG,MAAA,KAAAC,UAAA,CA0CvB,OA1CuBC,EAAAA,EAAAA,GAAAwF,EAAA,EAAAvF,IAAA,SAAAC,MAExB,WACE,GAAIuE,GACF,OACEhE,EAAAA,EAAAA,KAACyD,EAAQ,CAACE,SAAS3D,EAAAA,EAAAA,KAACkE,EAAW,MAInC,IAAIP,EACJ,OAAQmB,IACN,IAAK,QACHnB,GAAU3D,EAAAA,EAAAA,KAACgF,EAAAA,EAAK,CAAC5C,KAAKpC,EAAAA,EAAAA,KAACkE,EAAW,MAClC,MACF,IAAK,MACHP,GAAU3D,EAAAA,EAAAA,KAACiF,EAAAA,EAAG,IACd,MACF,IAAK,MACHtB,GAAU3D,EAAAA,EAAAA,KAACkF,EAAAA,EAAG,IACd,MACF,IAAK,OACHvB,GAAU3D,EAAAA,EAAAA,KAACmF,EAAI,IACf,MACF,IAAK,WACHxB,GAAU3D,EAAAA,EAAAA,KAACoF,EAAQ,IACnB,MACF,IAAK,OACHzB,GAAU3D,EAAAA,EAAAA,KAACqF,EAAI,IACf,MACF,IAAK,QACH1B,GAAU3D,EAAAA,EAAAA,KAACsF,EAAAA,EAAK,IAChB,MACF,IAAK,QACH3B,GAAU3D,EAAAA,EAAAA,KAACuF,EAAAA,EAAK,IAChB,MACF,QACE5B,GAAU3D,EAAAA,EAAAA,KAACkE,EAAW,CAACF,IAAI,6BAG/B,OACEhE,EAAAA,EAAAA,KAACyD,EAAQ,CAACE,QAASA,GAEvB,KAACoB,CAAA,CA1CuB,CAAS1E,EAAAA,WA6CnCmF,EAAAA,QAAgBxF,EAAAA,EAAAA,KAAC+E,GAAoB,IAAKlD,SAAS4D,eAAe,W","sources":["components/file-content-view/audio.js","components/file-content-view/image.js","components/file-content-view/pdf.js","components/file-content-view/svg.js","components/file-content-view/video.js","components/history-trash-file-view/download.js","components/history-trash-file-view/file-view.js","components/history-trash-file-view/file-view-tip.js","components/file-content-view/text.js","components/file-content-view/markdown.js","components/file-content-view/sdoc.js","history-trash-file-view.js"],"sourcesContent":["import React from 'react';\nimport AudioPlayer from '../audio-player';\n\nimport '../../css/audio-file-view.css';\n\nconst { rawPath } = window.app.pageOptions;\n\nclass FileContent extends React.Component {\n  render() {\n    const videoJsOptions = {\n      autoplay: false,\n      controls: true,\n      preload: 'auto',\n      sources: [{\n        src: rawPath\n      }]\n    };\n    return (\n      <div className=\"file-view-content flex-1 audio-file-view\">\n        <AudioPlayer { ...videoJsOptions } />\n      </div>\n    );\n  }\n}\n\nexport default FileContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot } from '../../utils/constants';\n\nimport '../../css/image-file-view.css';\n\nconst {\n  repoID, repoEncrypted,\n  fileExt, filePath, fileName,\n  thumbnailSizeForOriginal,\n  previousImage, nextImage, rawPath,\n  xmindImageSrc // for xmind file\n} = window.app.pageOptions;\n\nlet previousImageUrl, nextImageUrl;\nif (previousImage) {\n  previousImageUrl = `${siteRoot}lib/${repoID}/file${Utils.encodePath(previousImage)}`;\n}\nif (nextImage) {\n  nextImageUrl = `${siteRoot}lib/${repoID}/file${Utils.encodePath(nextImage)}`;\n}\n\nclass FileContent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadFailed: false\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', (e) => {\n      if (previousImage && e.keyCode == 37) { // press '<-'\n        location.href = previousImageUrl;\n      }\n      if (nextImage && e.keyCode == 39) { // press '->'\n        location.href = nextImageUrl;\n      }\n    });\n  }\n\n  handleLoadFailure = () => {\n    this.setState({\n      loadFailed: true\n    });\n  };\n\n  render() {\n    if (this.state.loadFailed) {\n      return this.props.tip;\n    }\n\n    // request thumbnails for some files\n    // only for 'file view'. not for 'history/trash file view'\n    let thumbnailURL = '';\n    const fileExtList = ['tif', 'tiff', 'psd'];\n    if (!repoEncrypted && fileExtList.includes(fileExt)) {\n      thumbnailURL = `${siteRoot}thumbnail/${repoID}/${thumbnailSizeForOriginal}${Utils.encodePath(filePath)}`;\n    }\n\n    // for xmind file\n    const xmindSrc = xmindImageSrc ? `${siteRoot}${xmindImageSrc}` : '';\n\n    return (\n      <div className=\"file-view-content flex-1 image-file-view\">\n        {previousImage && (\n          <a href={previousImageUrl} id=\"img-prev\" title={gettext('you can also press ← ')}><span className=\"fas fa-chevron-left\"></span></a>\n        )}\n        {nextImage && (\n          <a href={nextImageUrl} id=\"img-next\" title={gettext('you can also press →')}><span className=\"fas fa-chevron-right\"></span></a>\n        )}\n        <img src={xmindSrc || thumbnailURL || rawPath} alt={fileName} id=\"image-view\" onError={this.handleLoadFailure} />\n      </div>\n    );\n  }\n}\n\nFileContent.propTypes = {\n  tip: PropTypes.string.isRequired,\n};\n\nexport default FileContent;\n","import React from 'react';\nimport PDFViewer from '../pdf-viewer';\n\nimport '../../css/pdf-file-view.css';\n\nclass FileContent extends React.Component {\n  render() {\n    return (\n      <div className=\"file-view-content flex-1 pdf-file-view\">\n        <PDFViewer />\n      </div>\n    );\n  }\n}\n\nexport default FileContent;\n","import React from 'react';\n\nimport '../../css/svg-file-view.css';\n\nconst {\n  fileName, rawPath\n} = window.app.pageOptions;\n\nclass FileContent extends React.Component {\n  render() {\n    return (\n      <div className=\"file-view-content flex-1 svg-file-view\">\n        <img src={rawPath} alt={fileName} id=\"svg-view\" />\n      </div>\n    );\n  }\n}\n\nexport default FileContent;\n","import React from 'react';\nimport VideoPlayer from '../video-player';\n\nimport '../../css/video-file-view.css';\n\nconst {\n  rawPath\n} = window.app.pageOptions;\n\nclass FileContent extends React.Component {\n  render() {\n    const videoJsOptions = {\n      autoplay: false,\n      controls: true,\n      preload: 'auto',\n      playbackRates: [0.5, 1, 1.5, 2],\n      sources: [{\n        src: rawPath\n      }]\n    };\n    return (\n      <div className=\"file-view-content flex-1 video-file-view\">\n        <VideoPlayer { ...videoJsOptions } />\n      </div>\n    );\n  }\n}\n\nexport default FileContent;\n","import React from 'react';\nimport { gettext, siteRoot } from '../../utils/constants';\n\nconst {\n  fileName, repoID, objID, path\n} = window.app.pageOptions;\n\nfunction Download() {\n  return (\n    <a href={`${siteRoot}repo/${repoID}/${objID}/download/?file_name=${encodeURIComponent(fileName)}&p=${encodeURIComponent(path)}`} className=\"btn btn-secondary\">{gettext('Download')}</a>\n  );\n}\n\nexport default Download;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport watermark from 'watermark-dom';\nimport { gettext, siteName } from '../../utils/constants';\nimport Download from './download';\n\nimport '../../css/file-view.css';\n\nconst propTypes = {\n  content: PropTypes.object.isRequired\n};\n\nconst {\n  fromTrash,\n  fileName, commitTime,\n  canDownloadFile,\n  enableWatermark, userNickName\n} = window.app.pageOptions;\n\n\nclass FileView extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"h-100 d-flex flex-column flex-1\">\n        <div className=\"file-view-header d-flex justify-content-between align-items-center\">\n          <div>\n            <h2 className=\"file-title\">{fileName}</h2>\n            <p className=\"meta-info m-0\">{fromTrash ? `${gettext('Current Path: ')}${gettext('Trash')}`: commitTime}</p>\n          </div>\n          {canDownloadFile && <Download />}\n        </div>\n        <div className=\"file-view-body flex-auto d-flex o-hidden\">\n          {this.props.content}\n        </div>\n      </div>\n    );\n  }\n}\n\nif (enableWatermark) {\n  watermark.init({\n    watermark_txt: `${siteName} ${userNickName}`,\n    watermark_alpha: 0.075\n  });\n}\n\nFileView.propTypes = propTypes;\n\nexport default FileView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport Download from './download';\n\nconst propTypes = {\n  err: PropTypes.string\n};\nconst { canDownloadFile, err } = window.app.pageOptions;\nconst UNSUPPORTED = 'File preview unsupported';\n\nclass FileViewTip extends React.Component {\n\n  render() {\n    let errorMsg;\n    if (err == UNSUPPORTED || this.props.err == UNSUPPORTED) {\n      errorMsg = <p>{gettext('Online view is not applicable to this file format')}</p>;\n    } else {\n      errorMsg = <p className=\"error\">{err}</p>;\n    }\n\n    return (\n      <div className=\"file-view-content flex-1 o-auto\">\n        <div className=\"file-view-tip\">\n          {errorMsg}\n          {canDownloadFile && <Download />}\n        </div>\n      </div>\n    );\n  }\n}\nFileViewTip.propTypes = propTypes;\n\nexport default FileViewTip;\n","import React from 'react';\nimport SeafileCodeMirror from '../seafile-codemirror';\nimport '../../css/text-file-view.css';\n\nconst { fileExt, fileContent } = window.app.pageOptions;\n\nclass FileContent extends React.Component {\n  render() {\n    return (\n      <div className=\"file-view-content flex-1 text-file-view\">\n        <SeafileCodeMirror fileExt={fileExt} value={fileContent} />\n      </div>\n    );\n  }\n}\n\nexport default FileContent;\n","import React from 'react';\nimport { MarkdownViewer } from '@seafile/seafile-editor';\nimport { mediaUrl } from '../../utils/constants';\n\nimport '../../css/md-file-view.css';\n\nconst { fileContent } = window.app.pageOptions;\n\nclass FileContent extends React.Component {\n  render() {\n    return (\n      <div className=\"file-view-content md-content\">\n        <MarkdownViewer\n          isFetching={false}\n          value={fileContent}\n          isShowOutline={false}\n          mathJaxSource={mediaUrl + 'js/mathjax/tex-svg.js'}\n        />\n      </div>\n    );\n  }\n}\n\nexport default FileContent;\n","import React from 'react';\nimport { SDocViewer } from '@seafile/sdoc-editor';\n\nimport '../../css/sdoc-file-view.css';\n\nconst { fileContent } = window.app.pageOptions;\n\nclass FileContent extends React.Component {\n\n  render() {\n    const document = fileContent ? JSON.parse(fileContent) : null;\n    return (\n      <div className=\"file-view-content flex-1 o-auto sdoc-file-view p-0 d-flex flex-column\">\n        <SDocViewer document={document} />\n      </div>\n    );\n  }\n}\n\nexport default FileContent;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport FileView from './components/history-trash-file-view/file-view';\nimport FileViewTip from './components/history-trash-file-view/file-view-tip';\nimport Image from './components/file-content-view/image';\nimport SVG from './components/file-content-view/svg';\nimport PDF from './components/file-content-view/pdf';\nimport Text from './components/file-content-view/text';\nimport Markdown from './components/file-content-view/markdown';\nimport SDoc from './components/file-content-view/sdoc';\nimport Video from './components/file-content-view/video';\nimport Audio from './components/file-content-view/audio';\n\nconst {\n  fileType, err\n} = window.app.pageOptions;\n\nclass HistoryTrashFileView extends React.Component {\n\n  render() {\n    if (err) {\n      return (\n        <FileView content={<FileViewTip />} />\n      );\n    }\n\n    let content;\n    switch (fileType) {\n      case 'Image':\n        content = <Image tip={<FileViewTip />} />;\n        break;\n      case 'SVG':\n        content = <SVG />;\n        break;\n      case 'PDF':\n        content = <PDF />;\n        break;\n      case 'Text':\n        content = <Text />;\n        break;\n      case 'Markdown':\n        content = <Markdown />;\n        break;\n      case 'SDoc':\n        content = <SDoc />;\n        break;\n      case 'Video':\n        content = <Video />;\n        break;\n      case 'Audio':\n        content = <Audio />;\n        break;\n      default:\n        content = <FileViewTip err='File preview unsupported' />;\n    }\n\n    return (\n      <FileView content={content} />\n    );\n  }\n}\n\nReactDom.render(<HistoryTrashFileView />, document.getElementById('wrapper'));\n"],"names":["rawPath","window","app","pageOptions","FileContent","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","videoJsOptions","autoplay","controls","preload","sources","src","_jsx","className","children","AudioPlayer","_objectSpread","React","previousImageUrl","nextImageUrl","_window$app$pageOptio","repoID","repoEncrypted","fileExt","filePath","fileName","thumbnailSizeForOriginal","previousImage","nextImage","xmindImageSrc","concat","siteRoot","Utils","encodePath","props","_this","call","handleLoadFailure","setState","loadFailed","state","document","addEventListener","e","keyCode","location","href","this","tip","thumbnailURL","includes","xmindSrc","_jsxs","id","title","gettext","alt","onError","PDFViewer","playbackRates","VideoPlayer","objID","path","encodeURIComponent","fromTrash","commitTime","canDownloadFile","enableWatermark","userNickName","FileView","Download","content","watermark","watermark_txt","siteName","watermark_alpha","err","UNSUPPORTED","FileViewTip","errorMsg","fileContent","SeafileCodeMirror","MarkdownViewer","isFetching","isShowOutline","mathJaxSource","mediaUrl","JSON","parse","SDocViewer","fileType","HistoryTrashFileView","Image","SVG","PDF","Text","Markdown","SDoc","Video","Audio","ReactDom","getElementById"],"sourceRoot":""}